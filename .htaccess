RewriteEngine On
RewriteBase /

# Ensure existing files and directories are served normally
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Route all API requests to the correct index.php file
RewriteRule ^api/([^/]+)/?$ api/$1/index.php [QSA,L]

# Send all other requests to the main index.php
RewriteRule ^ index.php [QSA,L]
